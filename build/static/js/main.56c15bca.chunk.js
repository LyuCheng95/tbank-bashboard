(this.webpackJsonphfapp=this.webpackJsonphfapp||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/terrace1.8ec7208b.jpg"},125:function(e,t,a){e.exports=a.p+"static/media/terrace2.76051db5.jpg"},126:function(e,t,a){e.exports=a.p+"static/media/terrace3.df425f95.jpg"},127:function(e,t,a){e.exports=a.p+"static/media/terrace4.3ef04579.jpg"},128:function(e,t,a){e.exports=a.p+"static/media/terrace5.ef4c4266.jpg"},129:function(e,t,a){e.exports=a.p+"static/media/terrace6.2302d33b.jpg"},130:function(e,t,a){e.exports=a.p+"static/media/terrace7.cac8f7b7.jpg"},131:function(e,t,a){e.exports=a.p+"static/media/terrace8.bc288b1d.jpg"},132:function(e,t,a){e.exports=a.p+"static/media/terrace9.138a8eab.jpg"},133:function(e,t,a){e.exports=a.p+"static/media/terrace10.b7ecdf70.jpg"},135:function(e,t,a){e.exports=a.p+"static/media/food.b3fdee42.jpg"},136:function(e,t,a){e.exports=a.p+"static/media/clean.187d15e5.jpg"},137:function(e,t,a){e.exports=a.p+"static/media/study.894f4c68.png"},138:function(e,t,a){e.exports=a.p+"static/media/attendance.6075dfa3.jpg"},166:function(e,t,a){e.exports=a(210)},171:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),i=(a(171),a(71)),o=a(20),s=Object(o.a)(),u=a(7),m=a(72),p=a(58),d=a(3),f=a(248),E=a(284),g=a(274),h=a(275),b=a(258),v=a(34),x=a(264),O=a(254),j=a(273),C=a(140),S=a.n(C),y=a(142),w=a.n(y),k=a(70),N=a.n(k),B=a(141),I=a.n(B),L=a(259),A=a(276),D=a(261),F=a(143),T=a.n(F),W=a(144),z=a.n(W),P=a(49),R=a.n(P),q=a(36),H=a.n(q),G=a(145),J=a.n(G),$=a(40),X=a(123),K=a.n(X),M=a(257),Q=a(251),U=a(253),V=(a(114),a(212)),Y=a(269),Z=a(39),_=a(282),ee=a(285),te=a(60),ae=a.n(te),ne="https://absolute-nexus-265212.appspot.com/",re=function(e,t){var a=ne+"person?action="+e;return Object.keys(t).forEach((function(e){a+="&",a+=e,a+="=",a+=t[e]})),ae.a.get(a).then((function(e){return e})).catch((function(e){console.log(e)}))},ce=function(e,t){var a=ne+"attendance?action="+e;return Object.keys(t).forEach((function(e){a+="&",a+=e,a+="=",a+=t[e]})),ae.a.get(a).then((function(e){return e})).catch((function(e){console.log(e)}))},le=Object(f.a)((function(e){return{}}));function ie(e){var t=e.name,a=e.present,c=e.attendanceList,l=e.setAttendanceList,i=e.date,o=le(),s=Object(n.useState)(!1),m=Object(u.a)(s,2),p=(m[0],m[1]);return r.a.createElement(Q.a,{className:o.nameCard},r.a.createElement(U.a,{avatar:r.a.createElement(ee.a,{"aria-label":"recipe",className:o.avatar},t.charAt(0)),action:r.a.createElement(O.a,{"aria-label":"settings"},r.a.createElement(_.a,{checked:1==a,onChange:function(){return function(e,t){"-1"===t?(p(!0),ce("update",{date:i.toISOString().split("T")[0],data:e+",1"}).then((function(t){p(!1),l([].concat(Object(Z.a)(c.filter((function(t){return t[0]!==e}))),[[e,i.toISOString().split("T")[0],"1"]]))}))):(p(!0),ce("update",{date:i.toISOString().split("T")[0],data:e+",-1"}).then((function(t){p(!1),l([].concat(Object(Z.a)(c.filter((function(t){return t[0]!==e}))),[[e,i.toISOString().split("T")[0],"-1"]]))})))}(t,a)},value:"primary",inputProps:{"aria-label":"primary checkbox"}})),title:t}))}var oe=a(50),se=a.n(oe),ue=a(260),me=a(262),pe=a(256),de=a(255),fe=a(89),Ee=a.n(fe),ge=a(79),he=a(287),be=a(265),ve=a(280),xe=a(286),Oe=a(263),je=Object(f.a)({avatar:{backgroundColor:ge.a[100],color:ge.a[600]},listItem:{width:"200px","&:hover":{backgroundColor:"#e8e8e8"}},formControl:{marginRight:"20px"},deleteButton:{height:"42px",width:"42px"},nameInput:{width:"60%"}});function Ce(e){var t=je(),a=e.onClose,c=e.open,l=e.personList,i=e.setPersonList,o=e.setAlertData,s=l.filter((function(e){return"staff"===e[1]})),m=l.filter((function(e){return"student"===e[1]})),p=(r.a.useRef(null),Object(n.useState)("")),d=Object(u.a)(p,2),f=d[0],E=d[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),v=h[0],O=h[1],j=Object(n.useState)(!1),C=Object(u.a)(j,2),S=C[0],y=C[1],w=function(e){S||(y(!0),re("delete",{name:e}).then((function(t){y(!1),o({open:!0,severity:"success",content:"\u5220\u9664\u6210\u529f"}),i(l.filter((function(t){return t[0]!==e})))})))};return r.a.createElement(de.a,{onClose:function(){a()},"aria-labelledby":"simple-dialog-title",open:c},r.a.createElement(pe.a,{id:"simple-dialog-title"},"\u4eba\u5458\u7ba1\u7406"),r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement(M.a,{item:!0},r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(b.a,null,s.map((function(e){return r.a.createElement(L.a,{className:t.listItem,key:e},r.a.createElement(ue.a,null,r.a.createElement(ee.a,{className:t.avatar},r.a.createElement(H.a,null))),r.a.createElement(D.a,{primary:e[0]}),r.a.createElement(me.a,null,r.a.createElement(Oe.a,{className:t.deleteButton,onClick:function(){return w(e[0])}},r.a.createElement(R.a,null))))})))),r.a.createElement(M.a,{item:!0},r.a.createElement(b.a,null,m.map((function(e){return r.a.createElement(L.a,{className:t.listItem,key:e},r.a.createElement(ue.a,null,r.a.createElement(ee.a,{className:t.avatar},r.a.createElement(se.a,null))),r.a.createElement(D.a,{primary:e[0]}),r.a.createElement(me.a,null,r.a.createElement(Oe.a,{className:t.deleteButton,onClick:function(){return w(e[0])}},r.a.createElement(R.a,null))))})))))),r.a.createElement(x.a,null),r.a.createElement(M.a,{item:!0},r.a.createElement(b.a,null,r.a.createElement(L.a,null,r.a.createElement(be.a,{variant:"filled",className:t.formControl},r.a.createElement(he.a,{htmlFor:"filled-age-native-simple"},"\u8eab\u4efd"),r.a.createElement(ve.a,{native:!0,value:v,onChange:function(e){return O(e.target.value)},inputProps:{name:"newRole",id:"filled-age-native-simple"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"staff"},"\u8001\u5e08"),r.a.createElement("option",{value:"student"},"\u5b66\u751f"))),r.a.createElement(xe.a,{value:f,onChange:function(e){return E(e.target.value)},id:"filled-basic",label:"\u59d3\u540d",variant:"filled",className:t.nameInput}),r.a.createElement(me.a,null,r.a.createElement(Oe.a,{className:t.deleteButton,onClick:function(){l.map((function(e){return e[0]})).includes(f)?o({open:!0,severity:"error",content:"\u4eba\u5458\u5df2\u5b58\u5728"}):S||(y(!0),re("add",{name:f,role:v}).then((function(e){y(!1),o({open:!0,severity:"success",content:"\u6dfb\u52a0\u6210\u529f"}),i([].concat(Object(Z.a)(l),[[f,v]]))})))}},r.a.createElement(Ee.a,null))))))))}var Se=Object(f.a)({avatar:{backgroundColor:ge.a[100],color:ge.a[600]},listItem:{width:"200px","&:hover":{backgroundColor:"#e8e8e8"}},formControl:{marginRight:"20px"},deleteButton:{height:"42px",width:"42px"},nameInput:{width:"60%"}});function ye(e){var t=Se(),a=e.onClose,c=e.open,l=e.personList,i=e.date,o=e.attendanceList,s=e.setAttendanceList,m=(e.setAlertData,{});l.forEach((function(e){m[e[0]]=e[1]}));var p=o.filter((function(e){return"staff"===m[e[0]]})).sort(),d=o.filter((function(e){return"student"===m[e[0]]})).sort(),f=Object(n.useState)(!1),E=Object(u.a)(f,2),g=(E[0],E[1]),h=function(e){"0"===e[2]?(g(!0),ce("update",{date:i.toISOString().split("T")[0],data:e[0]+",-1"}).then((function(t){g(!1),s([].concat(Object(Z.a)(o.filter((function(t){return t[0]!==e[0]}))),[[e[0],e[1],"-1"]]))}))):(g(!0),ce("update",{date:i.toISOString().split("T")[0],data:e[0]+",0"}).then((function(t){g(!1),s([].concat(Object(Z.a)(o.filter((function(t){return t[0]!==e[0]}))),[[e[0],e[1],"0"]]))})))};return r.a.createElement(de.a,{onClose:function(){a()},"aria-labelledby":"simple-dialog-title",open:c},r.a.createElement(pe.a,{id:"simple-dialog-title"},"\u8ba1\u5212\u51fa\u5e2d"),r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement(M.a,{item:!0},r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(b.a,null,p.map((function(e){return r.a.createElement(L.a,{className:t.listItem,key:e},r.a.createElement(ue.a,null,r.a.createElement(ee.a,{className:t.avatar},r.a.createElement(H.a,null))),r.a.createElement(D.a,{primary:e[0]}),r.a.createElement(me.a,null,r.a.createElement(_.a,{checked:"-1"===e[2]||"1"===e[2],onChange:function(){return h(e)},value:"primary",inputProps:{"aria-label":"primary checkbox"}})))})))),r.a.createElement(M.a,{item:!0},r.a.createElement(b.a,null,d.map((function(e){return r.a.createElement(L.a,{className:t.listItem,key:e},r.a.createElement(ue.a,null,r.a.createElement(ee.a,{className:t.avatar},r.a.createElement(se.a,null))),r.a.createElement(D.a,{primary:e[0]}),r.a.createElement(me.a,null,r.a.createElement(_.a,{checked:"-1"===e[2]||"1"===e[2],onChange:function(){return h(e)},value:"primary",inputProps:{"aria-label":"primary checkbox"}})))})))))),r.a.createElement(x.a,null),r.a.createElement(M.a,{item:!0})))}var we=a(283),ke=a(281),Ne=Object(f.a)((function(e){return{calendar:{borderRadius:"5px",padding:"10px;",boxShadow:"5px 10px #888888;",margin:"auto",width:"80%",fontSize:"23px"},nameCard:{height:"180px"},functionButtonsGrid:{textAlign:"center"},cardHeader:{padding:"3px 20px;",background:"gray",color:"white;"},controlButton:{margin:"10px 15px"}}}));function Be(){var e=Ne(),t=Object(n.useState)(new Date),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),E=f[0],g=f[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),v=b[0],x=b[1],O=Object(n.useState)({open:!1,severity:"",content:""}),j=Object(u.a)(O,2),C=j[0],S=j[1],y=Object(n.useState)([]),w=Object(u.a)(y,2),k=w[0],N=w[1],B={};v.forEach((function(e){B[e[0]]=e[1]}));var I=k.filter((function(e){return"staff"===B[e[0]]})).sort(),L=k.filter((function(e){return"student"===B[e[0]]})).sort();return Object(n.useEffect)((function(){re("read",{}).then((function(e){var t=e.data.message.replace(/"/,"").replace(/"/,"").split(";");t.pop(),t=t.map((function(e){return e.split(",")})),x(t),ce("read",{date:c.toISOString().split("T")[0]}).then((function(e){var a=e.data.message.replace(/"/,"").replace(/"/,"").split(";");a.pop(),a=a.map((function(e){return e.split(",")})),t.forEach((function(e){a.map((function(e){return e[0]})).includes(e[0])||a.push([e[0],c.toISOString().split("T")[0],"0"])})),N(a)}))}))}),[c]),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:8},r.a.createElement("div",null,r.a.createElement(K.a,{className:e.calendar,value:c,onChange:function(e){return l(e)}}))),r.a.createElement(M.a,{item:!0,xs:4},r.a.createElement(M.a,{container:!0,direction:"column",spacing:2},r.a.createElement(M.a,{item:!0,className:e.functionButtonsGrid},r.a.createElement(Y.a,{size:"large",color:"primary",variant:"contained",className:e.functionButtons},r.a.createElement(V.a,{className:e.controlButton,onClick:function(){return m(!0)}},"\u7ba1\u7406"),r.a.createElement(V.a,{className:e.controlButton,onClick:function(){return g(!0)}},"\u51fa\u5e2d"))),r.a.createElement(M.a,{item:!0},r.a.createElement(Q.a,null,r.a.createElement(U.a,{className:e.cardHeader,avatar:r.a.createElement(H.a,null),title:"\u8001\u5e08"}),L.filter((function(e){return 0!=e[2]})).map((function(e){return r.a.createElement(ie,{name:e[0],present:e[2],date:c,attendanceList:k,setAttendanceList:N})})))),r.a.createElement(M.a,{item:!0},r.a.createElement(Q.a,null,r.a.createElement(U.a,{className:e.cardHeader,avatar:r.a.createElement(se.a,null),title:"\u5b66\u751f"}),I.filter((function(e){return 0!=e[2]})).map((function(e){return r.a.createElement(ie,{name:e[0],present:e[2],attendanceList:k,date:c,setAttendanceList:N})}))))))),r.a.createElement(Ce,{open:s,onClose:function(){return m(!1)},personList:v,setPersonList:x,setAlertData:S}),r.a.createElement(ye,{open:E,onClose:function(){return g(!1)},attendanceList:k,personList:v,setAttendanceList:N,setAlertData:S,date:c}),r.a.createElement(we.a,{open:C.open,autoHideDuration:2e3,onClose:function(){return S(Object(p.a)({},C,{open:!1}))}},r.a.createElement(ke.a,{variant:"filled",onClose:function(){return S(Object(p.a)({},C,{open:!1}))},severity:C.severity},C.content))):null}function Ie(){return r.a.createElement("div",null,"Food")}var Le=a(80),Ae=a(124),De=a.n(Ae),Fe=a(125),Te=a.n(Fe),We=a(126),ze=a.n(We),Pe=a(127),Re=a.n(Pe),qe=a(128),He=a.n(qe),Ge=a(129),Je=a.n(Ge),$e=a(130),Xe=a.n($e),Ke=a(131),Me=a.n(Ke),Qe=a(132),Ue=a.n(Qe),Ve=a(133),Ye=a.n(Ve),Ze=(a(207),Object(f.a)((function(e){return{image:{height:"450px"}}})));function _e(){var e=Ze(),t=[{id:1,src:De.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:2,src:Te.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:3,src:ze.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:4,src:Re.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:5,src:He.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:6,src:Je.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:7,src:Xe.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:8,src:Me.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:9,src:Ue.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"},{id:10,src:Ye.a,title:"\u6807\u9898",content:"\u4ecb\u7ecd"}];return r.a.createElement(Le.a,null,t.map((function(a){return r.a.createElement(Le.a.Item,{key:t.id,className:e.image},r.a.createElement("img",{className:"d-block w-100",src:a.src,alt:"image missing"}),r.a.createElement(Le.a.Caption,null,r.a.createElement("h3",null,a.title),r.a.createElement("p",null,a.content)))})))}var et=a(270),tt=a(272),at=a(271),nt=Object(f.a)({card:{maxWidth:345},media:{height:140}});function rt(e){var t=e.image,a=e.title,n=e.onClick,c=e.children,l=nt();return r.a.createElement(Q.a,{className:l.card},r.a.createElement(et.a,{onClick:n},r.a.createElement(at.a,{className:l.media,image:t,title:"Contemplative Reptile"}),r.a.createElement(tt.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),c)))}var ct=a(135),lt=a.n(ct),it=a(136),ot=a.n(it),st=a(137),ut=a.n(st),mt=a(138),pt=a.n(mt),dt=Object(f.a)((function(e){return{introCard:{height:"600px"}}}));function ft(){var e=dt(),t=Object($.f)();return r.a.createElement(M.a,{container:!0,direction:"column",spacing:5},r.a.createElement(M.a,{item:!0,xs:12},r.a.createElement(Q.a,{className:e.introCard},r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:7},r.a.createElement(_e,null))))),r.a.createElement(M.a,{item:!0,xs:12},r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(rt,{image:lt.a,title:"\u9910\u996e",onClick:function(){return t.push("/food")}},r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"))),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(rt,{image:ot.a,title:"\u536b\u751f",onClick:function(){return t.push("/clean")}},r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"))),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(rt,{image:ut.a,title:"\u5b66\u4e60",onClick:function(){return t.push("/study")}},r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"))),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(rt,{image:pt.a,title:"\u51fa\u52e4",onClick:function(){return t.push("/attendance")}},r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"))),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(Q.a,null)))))}function Et(){return r.a.createElement("div",null,"Study")}var gt=a(78),ht=a.n(gt),bt=a(77),vt=a.n(bt),xt=Object(f.a)((function(e){return{paper:{marginBottom:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],"&:focus":{outline:"none"}},links:{color:"#3f51b5",cursor:"pointer",fontSize:"0.9rem","&:hover":{textDecoration:"underline"}},failureAlert:{width:"100%",marginTop:"10px"},container:{width:"400px"}}}));function Ot(e){var t=e.open,a=e.handleClose,c=e.handleOpenRegister,l=e.setOpenSuccessAlert,i=e.setLogin,o=e.setSuccessAlert,s=xt(),m=Object(n.useState)(""),p=Object(u.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],b=g[1],x=Object(n.useState)(!1),C=Object(u.a)(x,2),S=C[0],y=C[1],w=function(e,t){(function(e,t){return ae.a.get(ne+"login?username="+e+"&password="+t).then((function(e){return e})).catch((function(e){console.log(e)}))})(e,t).then((function(t){0==t.data.status?y(!0):(sessionStorage.setItem("username",e),a(),l(!0),i(!0),o("\u767b\u5f55\u6210\u529f\uff01"))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{open:t},r.a.createElement(pe.a,null,r.a.createElement(O.a,{"aria-label":"close",className:s.closeButton,onClick:a},r.a.createElement(vt.a,null))),r.a.createElement(j.a,{component:"main",maxWidth:"xs",className:s.container},r.a.createElement("div",{className:s.paper},r.a.createElement(ee.a,{className:s.avatar},r.a.createElement(ht.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"\u767b\u5f55"),r.a.createElement(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"\u90ae\u7bb1\u5730\u5740",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u5bc6\u7801",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)}}),S?r.a.createElement(ke.a,{className:s.failureAlert,severity:"error"},"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"):null,r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:function(){return w(d,h)}},"\u767b\u5f55"),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(v.a,null,"\u5fd8\u8bb0\u5bc6\u7801?")),r.a.createElement(M.a,{item:!0},r.a.createElement(v.a,{onClick:function(){a(),c()},className:s.links},"\u5df2\u6709\u5e10\u53f7\uff1f \u524d\u53bb\u6ce8\u518c >>")))))))}var jt=Object(f.a)((function(e){return{paper:{marginBottom:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],"&:focus":{outline:"none"}},links:{color:"#3f51b5",cursor:"pointer",fontSize:"0.9rem","&:hover":{textDecoration:"underline"}},container:{width:"500px"},failureAlert:{width:"100%",marginTop:"10px"}}}));function Ct(e){var t=e.open,a=e.handleClose,c=e.handleOpenLogin,l=e.setOpenSuccessAlert,i=e.setLogin,o=e.setSuccessAlert,s=jt(),m=Object(n.useState)(""),p=Object(u.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],b=g[1],x=Object(n.useState)(""),C=Object(u.a)(x,2),S=C[0],y=C[1],w=Object(n.useState)(!1),k=Object(u.a)(w,2),N=k[0],B=k[1],I=Object(n.useState)(!1),L=Object(u.a)(I,2),A=L[0],D=L[1];Object(n.useEffect)((function(){D(S!=h)}),[S]);var F=function(e,t){(function(e,t){return ae.a.get(ne+"register?username="+e+"&password="+t).then((function(e){return e})).catch((function(e){console.log(e)}))})(e,t).then((function(t){0==t.data.status?B(!0):(sessionStorage.setItem("username",e),a(),l(!0),i(!0),o("\u6ce8\u518c\u6210\u529f\uff01"))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{open:t},r.a.createElement(pe.a,null,r.a.createElement(O.a,{"aria-label":"close",className:s.closeButton,onClick:a},r.a.createElement(vt.a,null))),r.a.createElement(j.a,{component:"main",maxWidth:"xs",className:s.container},r.a.createElement("div",{className:s.paper},r.a.createElement(ee.a,{className:s.avatar},r.a.createElement(ht.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"\u6ce8\u518c"),r.a.createElement(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"\u90ae\u7bb1\u5730\u5740",name:"email",autoComplete:"xxx@xxx.com",autoFocus:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement(xe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u5bc6\u7801",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)}}),r.a.createElement(xe.a,{variant:"outlined",error:A,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u91cd\u590d\u5bc6\u7801",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return y(e.target.value)}}),N?r.a.createElement(ke.a,{className:s.failureAlert,severity:"error"},"\u6ce8\u518c\u5931\u8d25"):null,r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:function(){return F(d,h)}},"\u6ce8\u518c"),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(v.a,{onClick:function(){a(),c()},className:s.links},"\u5df2\u6709\u5e10\u53f7\uff1f\u524d\u53bb\u767b\u5f55 >>")))))))}var St=a(279),yt=a(277),wt=a(278),kt=Object(f.a)((function(e){return{root:{overflow:"hidden",height:"100vh",display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36,"&$focus":{outline:"none"}},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(m.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{marginTop:"64px",flexGrow:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},headerButton:{"&:focus":{outline:"none"}},logoutDialogTitle:{backgroundColor:"#3f51b5",color:"#FFFFFF"}}}));function Nt(){var e=kt(),t=r.a.useState(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],i=r.a.useState(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],p=r.a.useState(!1),f=Object(u.a)(p,2),C=f[0],y=f[1],k=r.a.useState(!1),B=Object(u.a)(k,2),F=B[0],W=B[1],P=r.a.useState(""),q=Object(u.a)(P,2),G=q[0],X=q[1],K=r.a.useState(!1),M=Object(u.a)(K,2),Q=M[0],U=M[1],Y=r.a.useState(!1),Z=Object(u.a)(Y,2),_=Z[0],ee=Z[1];Object(n.useEffect)((function(){sessionStorage.getItem("username")?U(!0):U(!1)}),[]);var te=Object($.f)();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{position:"absolute",className:Object(d.a)(e.appBar,c&&e.appBarShift)},r.a.createElement(h.a,{className:e.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(d.a)(e.menuButton,c&&e.menuButtonHidden)},r.a.createElement(S.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"[\u5bb6\u5ead\u540d\u5b57 + Logo]"),Q?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.usernameDiv},r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},sessionStorage.getItem("username").length>15?sessionStorage.getItem("username").slice(0,13)+"...":sessionStorage.getItem("username"))),r.a.createElement(O.a,{color:"inherit",className:e.headerButton,onClick:function(){return ee("true")}},r.a.createElement(I.a,null))):r.a.createElement(O.a,{color:"inherit",className:e.headerButton,onClick:function(){m(!0)}},r.a.createElement(N.a,null)))),r.a.createElement(Ot,{open:s,handleClose:function(){return m(!1)},handleOpenRegister:function(){return y(!0)},setLogin:function(){return U(!0)},setOpenSuccessAlert:W,setSuccessAlert:X}),r.a.createElement(Ct,{open:C,handleClose:function(){return y(!1)},handleOpenLogin:function(){return m(!0)},setLogin:function(){return U(!0)},setOpenSuccessAlert:W,setSuccessAlert:X}),r.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(d.a)(e.drawerPaper,!c&&e.drawerPaperClose)},open:c},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(O.a,{onClick:function(){l(!1)}},r.a.createElement(w.a,null))),r.a.createElement(x.a,null),r.a.createElement(b.a,null,r.a.createElement(L.a,{button:!0,onClick:function(){return te.push("/")}},r.a.createElement(A.a,null,r.a.createElement(T.a,null)),r.a.createElement(D.a,{primary:"\u4e3b\u9875"})),r.a.createElement(L.a,{button:!0,onClick:function(){return te.push("/food")}},r.a.createElement(A.a,null,r.a.createElement(z.a,null)),r.a.createElement(D.a,{primary:"\u9910\u996e"})),r.a.createElement(L.a,{button:!0,onClick:function(){return te.push("/clean")}},r.a.createElement(A.a,null,r.a.createElement(R.a,null)),r.a.createElement(D.a,{primary:"\u536b\u751f"})),r.a.createElement(L.a,{button:!0,onClick:function(){return te.push("/study")}},r.a.createElement(A.a,null,r.a.createElement(H.a,null)),r.a.createElement(D.a,{primary:"\u5b66\u4e60"})),r.a.createElement(L.a,{button:!0,onClick:function(){return te.push("/attendance")}},r.a.createElement(A.a,null,r.a.createElement(J.a,null)),r.a.createElement(D.a,{primary:"\u51fa\u52e4"})))),r.a.createElement("main",{className:e.content},r.a.createElement(j.a,{maxWidth:"lg",className:e.container},r.a.createElement($.c,null,r.a.createElement($.a,{exact:!0,path:"/",component:ft}),r.a.createElement($.a,{exact:!0,path:"/food",component:Ie}),r.a.createElement($.a,{exact:!0,path:"/study",component:Et}),r.a.createElement($.a,{exact:!0,path:"/attendance",component:Be}))),r.a.createElement(we.a,{open:F,autoHideDuration:3e3,onClose:function(){return W(!1)}},r.a.createElement(ke.a,{variant:"filled",onClose:function(){return W(!1)},severity:"success"},G)),r.a.createElement(de.a,{open:_,onClose:function(){return ee(!1)}},r.a.createElement(pe.a,{className:e.logoutDialogTitle},"\u6ce8\u9500"),r.a.createElement(yt.a,null,r.a.createElement(wt.a,null,"\u662f\u5426\u8981\u6ce8\u9500\u8d26\u53f7?")),r.a.createElement(St.a,null,r.a.createElement(V.a,{onClick:function(){return ee(!1)},color:"primary"},r.a.createElement(v.a,{component:"h2",variant:"h6"},"\u53d6\u6d88")),r.a.createElement(V.a,{onClick:function(){ee(!1),U(!1)},color:"primary",autoFocus:!0},r.a.createElement(v.a,{component:"h2",variant:"h6"},"\u767b\u51fa"))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(i.a,{history:s},r.a.createElement(Nt,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[166,1,2]]]);
//# sourceMappingURL=main.56c15bca.chunk.js.map